<div id="mapContainer" style="height:600px"></div>
<script>
var map = new AMap.Map('mapContainer', {
    // 设置中心点
    //center: [116.397428, 39.90923],
     resizeEnable: true,
    //center: [114.06667, 22.61667],
    // 设置缩放级别
    zoom: 12
});
// 地图类型切换
map.plugin(["AMap.MapType"], function() {
    var type = new AMap.MapType({
        defaultType: 0
    });
    map.addControl(type);
});
//获取用户所在城市信息
    (function showCityInfo() {
        //加载城市查询插件
        AMap.service(["AMap.CitySearch"], function() {
            //实例化城市查询类
            var citysearch = new AMap.CitySearch();
            //自动获取用户IP，返回当前城市
            citysearch.getLocalCity(function(status, result) {
                if (status === 'complete' && result.info === 'OK') {
                    if (result && result.city && result.bounds) {
                        var cityinfo = result.city;
                        var citybounds = result.bounds;
                        //document.getElementById('selectCity').innerHTML = "您当前所在城市：" + cityinfo + "";
                        document.getElementById('selectCity').value = cityinfo;
                        //地图显示当前城市
                        map.setBounds(citybounds);
                    }
                } else {
                    //document.getElementById('selectCity').innerHTML = "您当前所在城市：" + result.info + "";
                    document.getElementById('selectCity').value = result.info;
                }
            });
        });
    })();
//设置城市
    AMap.event.addDomListener(document.getElementById('selectCity'),'click', function () {
      var cityName = document.getElementById('selectCity').value;
      if (!cityName) {
        cityName = '深圳市';
      }
      map.setZoom(12);
      map.setCity(cityName);
    });
     // 加载鹰眼插件
   map.plugin(['AMap.OverView'], function () {
      overView = new AMap.OverView({
        isOpen: true
      });
      map.addControl(overView);
    });
 //在地图中添加ToolBar插件
    map.plugin(["AMap.ToolBar"], function () {
      toolBar = new AMap.ToolBar();
      map.addControl(toolBar);
    });
 // 加载比例尺插件
    map.plugin(["AMap.Scale"], function () {
      scale = new AMap.Scale();
      map.addControl(scale);
    });
//设置个性化模板
function refresh(e){
      var e=e||event;
      map.setMapStyle(e.target.value);
    }
//自定义显示内容
 function refreshFeatures(){
      var boxes = document.getElementsByTagName('input');
      var features = [];
      for(var i = 0 ;i < boxes.length; i += 1){
        if(boxes[i].checked === true){
          features.push(boxes[i].name);
        }
      }
      map.setFeatures(features);
    }
 
</script>